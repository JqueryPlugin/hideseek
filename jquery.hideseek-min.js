(function(c){c.throttle=function(e,d){var f=null;return function(){var h=this,g=arguments;clearTimeout(f);f=setTimeout(function(){e.apply(h,g)},d)}};c.log=function(d){return window.console&&window.console.log(d)};var b=function(f,d){this.$element=c(f);this.$li=this.$element.children();this.options=c.extend({},b.DEFAULTS,d||{});var e=this.options.type=="horizon"?"width":"height";this.left_top=this.options.type=="horizon"?"left":"top";this.index=this.options.start_index;this.wraper_width=parseInt(this.$element.css(e));this.total_li_length=this.$li.length;this.li_width=parseInt(this.$li.css(e));this.min_li_width=Math.floor((this.wraper_width-this.li_width)/(this.total_li_length-1));this.average_width=Math.floor(this.wraper_width/this.total_li_length);this.tid=null;this.init()};b.DEFAULTS={start_index:0,animate_time:600,animate_interval_time:2000,type:"horizon"};b.prototype.init=function(){this.$element.on("mouseenter mouseEnter",this.$li[0].tagName,c.throttle(c.proxy(this.mouseEnter,this),200)).on("mouseleave",c.throttle(c.proxy(this.mouseLeave,this),200));this.options.animate_interval_time&&this.pause().autoPlay()};b.prototype.autoPlay=function(){var d=this;this.tid=setInterval(function(){d.$li.eq(d.index).trigger("mouseEnter")},this.options.animate_interval_time);return this};b.prototype.pause=function(){this.tid&&(this.tid=clearInterval(this.tid));return this};b.prototype.mouseEnter=function(j){var d=this.index,h={},g=this,f;d=c(j.currentTarget).index();j.type=="mouseover"&&this.pause();g.$element.trigger(j=c.Event("animate_start"));if(j.isDefaultPrevented()){return}for(f=0;f<d;){if(++f!=d){this.$li.eq(f).addClass("slide_hover0"+(f+1))}h[this.left_top]=this.min_li_width*f;this.$li.eq(f).animate(h,{duration:this.options.animate_time,queue:false})}for(f=d;f<this.total_li_length;f++){h[this.left_top]=this.li_width+this.min_li_width*f;this.$li.eq(f+1).addClass("slide_hover0"+(f+2)).animate(h,{duration:this.options.animate_time,queue:false})}this.index=++d%this.total_li_length;setTimeout(function(){g.$element.trigger("animate_end")},this.options.animate_time);return this};b.prototype.mouseLeave=function(g){var f={},d;for(d=0;d<this.total_li_length;d++){f[this.left_top]=this.average_width*d;this.$li.eq(d).animate(f,{duration:this.options.animate_time,queue:false})}this.options.animate_interval_time&&this.pause().autoPlay();return this};var a=c.fn.hideseek;c.fn.hideseek=function(d,e){return this.each(function(){var h=c(this),g=h.data("hideseek"),f=typeof d=="object"&&d;if(!g){h.data("hideseek",(g=new b(this,f)))}if(typeof d=="string"){g[d](e)}})};c.fn.noConflict=function(){c.fn.hideseek=a;return this};c.fn.hideseek.Constructor=b;c(window).on("load.hideseek.data-api",function(){c('[data-cat="hideseek"]').each(function(){var e=c(this),d=e.attr("data-autoplay");d==="true"?e.hideseek():e.hideseek({animate_interval_time:false})})})})(window.jQuery);
